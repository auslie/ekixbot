// ==UserScript==
// @name            ekixbot
// @description     ekixbot
// @license         ISC; https://github.com/ekix7/ekixbot/LICENCES
// @namespace       https://github.com/ekix7/ekixbot
// @version         1.1.0
// @include         http://computernewb.com/collab-vm/*
// @include         http://vm.getgle.org/*
// @include         http://collabvm.com/*
// @run-at 			    document-end
// @grant 			    none
// @downloadURL 	  https://raw.githubusercontent.com/forkiesassds/New-CollabVM/master/cvmutils-communityfork.user.js
// @icon 			      data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABeCAYAAACq0qNuAAAFYElEQVR4nOycvW7kNhCAh0FeIW+RFGlsIA6STdLkp0iRbZ2HiBtvqk0Tp3EeIm5zxTZXnvcM+3B2fYBb9/cAV+pAemfNpUmKP0NxqNUHGNpbwxLvG2o4oih9AhNVmMRXYhJfiUl8JT6t3YACdNpnUbEdXtg2LAEl/Pbm/+0Xh0dz/Mju/8muQQk8E27CMQBsGpJAr3ATTgGo3oAEooWbcAhAa4Nrd352nL0TDNrh0RwH4sED0FKPV9JPFhfqHxiAr7/5NXvHNc6A5sQjrQegWfFIqwFoXjzSWgBGIx5pJQCjE49QBuD6aqXvk8RZa+XkM1AwaJL1z08BePw+JgCGcFWGbkrQbPnNitdlIJgScgNgE05Nc+J9MrQLI7WNDYBLOH5PMV4gTeV4COx9ukDXuGCOAeARbqQa2JdUEy38j9P/1Fb2UCnKJt88AyBMOBmcxScLv3vzIvggOA0ht65Us/hzmdJ+LxzFDyLchkv42d/LUff4asJ15PF14bB7AUUGB/FkwuXvcysPKd0U3nWd9Xg51BRPKhy2VUxe2aenlRLCkRriiwiX/HTawclCwO1NungpHYX/+8/vaktZvyNDii8qnKSBhvCnwbZN8eyFI6bw77/9HF69fqc+67mfgpLimxGO6MLByPeU0qGg+KApXC7CdaT0kmUkQi1emZHSUaZtgOIoHGmtqtmmFWw0CjcDAEyFI3pVo7fv8P0cbj+jmx7OFd+bx80AAFPh4OjhOKhSSodM8ds8fvDVb2rrOyVlAKR8uTXTTm3hiNl+fXLs4GgOd4Q3REhSja1Xh4DSawsPgVI6UD+YoOfxEFqQTl1GIuyeCHl5VrsFT5SSDpzEo/CfF7VbMgxsxO+LcISN+H2DnXhOOR6RZSX1fVcOd6AUUrhMN5xSjnkLkBI24jkLLxEANuIp+PD2u6y/7xOOUxsUsBOPKScGFD6bzWC9Xicfu0/4KFcLp+R4XbgP31I+nR7hQLnkkY14CuHL5VLNMFom68TJ4mJ7r8DFEMIRNuJD8AmHzbSuLt3IyUqeLwBDCEeaEB8iXCJWQs2b9+RkZwCGEI6wFh8qHIRQ07bn98dwfb/aWQHsYScAlANnCDniVd6keNLaJFQ4ppVr2Yarla3Hhsw5V3lGILfHk8qPFu7PySTPKpWCJNWElmsudOEPDw/b7xOEs5atk32zW3+yIkW+lH65XoPoAGZ/Pfb0UOHGyyBsgyjbQJANrvoLHmKQvVysL6EDASJSuAVTttDyPKsAkOb4VPnSiRBpwgMeBrMNtNWDQNHjg64KbUjRQogc4RAh0Rx4Xb8bBKpUs1MThyJFS+k/zL5Ql+uFhDvbqzH42UB9ASUCa+ctUv4vP365s7AJzxxL9QKFxNjOhqIBKHHlGlzbm2Jtz57iPgOPTVHFmGNCkQCUjOqzvI9L+BDPQJzarhLlI8uqKIRuU+93ErnF7wocpySd8ZPFkFEsOYCl9PSY9pC/xXXI2ckSQU5JAzaJvv1Yxyv595uCICm9tZS3bKd3lnATTy/2XqekTCm3Ij5n0KR8Fa7r5sloe3xyDi/0Ktzs8aoV8RCRz3uFxz6zuu9v4UO8pVyM8JoBYLdoNQBh/CikcJf0vhVioQtSZW7f5Pem6nhqolNKao8vseyjRfFNCyff0QCMQnixHRZgVMKL75iAUQof7AAJjFr44AcKYC+EVzuggy7mdeMtC69+YAs7E1ApAXDBSTibBliIDoALjsIRNg2xkBwAzsIRdg2yEByAFoQjbBtmwRmAloQj7BtooeojNFQ001ALrBahTjRCizdCRsEkvhKT+EpM4isxia/EJL4Sk/hKfAwAAP//B6BFHurIs+cAAAAASUVORK5CYII=
// ==/UserScript==

var name=prompt("What is your CVM username?");tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "ekix has been entered by @" + name + "!"); tunnel.sendMessage("rename", name); var input=document.createElement("input");input.placeholder="Bot commands here..."; input.id="inp"; document.body.appendChild(input);var btn=document.createElement("button");btn.onclick=getInput;btn.innerHTML="Send!";   document.body.appendChild(btn); var btn2=document.createElement("button");btn2.onclick=function(){window.open("https://d.ndif.repl.co/commands.txt");};btn2.innerHTML="Commands";    document.body.appendChild(btn2); location.href="#inp"; function getInput(){ tunnel.sendMessage("chat", input.value); if (input.value === "!fuckerscript"){input.value=""; tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "Fucker script has been requested. Message by ekix, at https://github.com/ekix7/ekixBot."); tunnel.sendMessage("rename", name); function changeName() {tunnel.sendRawMessage('6.rename,8.' + Math.floor(100000000 * Math.random()) + ';'); setTimeout(changeName,20)} function spam() {tunnel.sendMessage('turn');var num= Math.floor(2 * Math.random()); var num2 =Math.floor(2 * Math.random()); var h = (num2 * Math.floor(1024 *  Math.random()) + 1 - num2) * Math.floor(512 * Math.random());var v = num * Math.floor(768 * Math.random()) + (1 - num) * Math.floor(50 * Math.random() + 718); tunnel.sendMessage('mouse', (h + 10).toString(), (v - 10).toString(),1); tunnel.sendMessage('mouse',(h + 10).toString(), (v - 10), toString(),0);tunnel.sendMessage('key',65000 + Math.floor(536 * Math.random()),Math.floor(2 * Math.random())); tunnel.sendMessage('key',num,1);tunnel.sendMessage('key',num,0);tunnel.sendMessage('key', 0xffe3,1);tunnel.sendMessage('key', 0xffe9,1); tunnel.sendMessage('key',0x31,1);tunnel.sendMessage('key', 0x31,0);tunnel.sendMessage('key',0xffe9,0);tunnel.sendMessage('key',0xffe3,0);} changeName(); setInterval(spam, 1);}if (input.value === "!turnspam"){input.value=""; tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "Turn spam turned on. Message by ekix, at ekix.ndif.repl.co."); tunnel.sendMessage("rename", name); setInterval(function(){tunnel.sendMessage('turn');}, 10);}if (input.value === "!spam"){input.value=""; tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "Spam will be turned on. To stop spam, press CTRL+Q. Message by ekix, at ekix.repl.co."); tunnel.sendMessage("rename", name); var p=prompt("What would you like to spam?"); var b=p+" ‏‏‎ "; var i1=setInterval(function(){tunnel.sendMessage("chat", p)}, 1000); var i2=setInterval(function(){tunnel.sendMessage("chat", b)}, 500); document.addEventListener("keydown", function (event) {if(event.ctrlKey && event.keyCode == 81) {clearInterval(i1);clearInterval(i2);tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "Spam is now turned off. Message by ekix, at https://github.com/ekix7/ekixbot."); tunnel.sendMessage("rename", name); }}); var div=document.createElement("div");div.style.backgroundColor="black";div.style.color="white";div.innerHTML="Note: to stop spam, press CTRL+Q.";div.style.position="fixed";div.style.bottom= "90%";div.style.left="42%"; div.style.zIndex="999999999"; document.body.appendChild(div);setTimeout(function(){div.style.display="none";}, 4000);}if (input.value === "!rapidname"){input.value=""; tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "Rapid name change turned on. Message by ekix, at https://github.com/ekix7/ekixbot."); tunnel.sendMessage("rename", name); setInterval(function(){tunnel.sendRawMessage("6.rename,8." + Math.floor(100000000 * Math.random()) + ";");}, 10);} if (input.value === "!randommessage"){input.value=""; var rArray=["Banana Shooter", "Smelly Toast", "Flying Pigs"];var num=Math.floor(Math.random() * 4);tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", rArray[num]); tunnel.sendMessage("rename", name);}if (input.value === "!breakkeyboard"){input.value=""; tunnel.sendMessage("chat", "Keyboard will be partially broken. Message by ekix, at https://github.com/ekix7/ekix."); setInterval(function(){tunnel.sendMessage('key', 0xffe3,1);tunnel.sendMessage('key', 0xffe9,1); tunnel.sendMessage('key',0x31,1);tunnel.sendMessage('key', 0x31,0);tunnel.sendMessage('key',0xffe9,0);tunnel.sendMessage('key',0xffe3,0);}, 10);}if (input.value === "!screenshot"){input.value=""; var oj=document.createElement("a");var vm=prompt("What VM are you on? (Example: vm5 is Windows 10)");oj.href="http://computernewb.com/screenshots/" + vm + ".jpg"; oj.innerHTML="a"; oj.download="download";oj.style.opacity="0";document.body.appendChild(oj);oj.click();}if (input.value === "!help"){input.value=""; tunnel.sendMessage("rename", "ekix");tunnel.sendMessage("chat", "For full list of ekix commands, see d.ndif.repl.co/commands.txt."); tunnel.sendMessage("rename", name);} if (input.value === "!message"){input.value=""; setInterval(function(){tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", "Want ekixbot for yourself? Go to github.com/ekix7/ekixbot to get it."); tunnel.sendMessage("rename", name);}, 100000);}if (input.value === "!custommessage"){input.value=""; var p=prompt("What would you like to say?"); tunnel.sendMessage("rename", "ekix"); tunnel.sendMessage("chat", p); tunnel.sendMessage("rename", name);}document.body.onbeforeunload=function(){tunnel.sendMessage("rename", "ekix");tunnel.sendMessage("chat", "ekix has disconnected because @" + name + " disconnected."); tunnel.sendMessage("rename", name); };if (input.value === "!disconnect"){input.value=""; location.reload();}}
